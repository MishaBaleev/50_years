{"ast":null,"code":"var _jsxFileName = \"/Users/mihailbaleev/Documents/work/50_years/frontend/src/PC/Docs/Table/Table.js\";\nimport React, { Component } from \"react\";\nimport \"./table.css\";\nimport icon from \"./img/icon.png\";\nimport search from \"./img/search.png\";\nimport axios from \"axios\";\nimport { connect } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Table extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      is_closing: \"\",\n      table_data: []\n    };\n    this.tables = [{\n      header: ['Сорт', 'Год включения в реестр', 'Регион допуска', 'Качество по реестру', 'Качество по оригинатору'],\n      keys: ['name', 'year', 'region', 'registry', 'originator'],\n      flex: [0.8, 1.4, 1, 1, 1, 1]\n    }, [], [], [], [], [], [], []];\n    this.counter = 0;\n    this.line_counter = 0;\n    this.closeTable = this.closeTable.bind(this);\n  }\n  componentDidMount() {\n    axios.get(`http://localhost:${this.props.app.port}/api/get_table_info?db_name=${this.props.db_name}`).then(response => {\n      console.log(response);\n      this.setState(state => ({\n        table_data: response.data.result\n      }));\n    });\n  }\n  closeTable() {\n    this.setState(state => ({\n      is_closing: \"closing\"\n    }), () => {\n      setTimeout(() => {\n        this.props.openTable(null);\n      }, 400);\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table \" + this.state.is_closing,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main_wind\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: icon,\n            className: \"icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"title\",\n            children: \"\\u041F\\u0448\\u0435\\u043D\\u0438\\u0446\\u0430 \\u043C\\u044F\\u0433\\u043A\\u0430\\u044F \\u043E\\u0437\\u0438\\u043C\\u0430\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: search\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close\",\n            onClick: this.closeTable\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main_table\",\n          children: this.props.table_index == 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"table_header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: 0.1\n                },\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\u2116\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 62\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 37\n              }, this), this.tables[this.props.table_index].header.map((item, index) => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    flex: this.tables[this.props.table_index].flex[index]\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: item\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 138\n                  }, this)\n                }, this.counter++, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 48\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 33\n            }, this), this.state.table_data.map((item, index) => {\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"line\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    flex: 0.1\n                  },\n                  children: this.line_counter++\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 41\n                }, this), this.tables[this.props.table_index].keys.map(key => {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      flex: this.tables[this.props.table_index].flex[index]\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: item[key]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 83,\n                      columnNumber: 142\n                    }, this)\n                  }, this.counter++, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 52\n                  }, this);\n                })]\n              }, this.counter++, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 44\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this) : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this);\n  }\n}\nconst mapStateToProps = state => {\n  return state;\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    // \"setTest\": (data) => dispatch(setTest(data))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Table);","map":{"version":3,"names":["React","Component","icon","search","axios","connect","jsxDEV","_jsxDEV","Table","constructor","props","state","is_closing","table_data","tables","header","keys","flex","counter","line_counter","closeTable","bind","componentDidMount","get","app","port","db_name","then","response","console","log","setState","data","result","setTimeout","openTable","render","className","children","src","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onClick","table_index","style","map","item","index","key","mapStateToProps","mapDispatchToProps","dispatch"],"sources":["/Users/mihailbaleev/Documents/work/50_years/frontend/src/PC/Docs/Table/Table.js"],"sourcesContent":["import React, {Component} from \"react\";\nimport \"./table.css\";\nimport icon from \"./img/icon.png\";\nimport search from \"./img/search.png\";\nimport axios from \"axios\";\nimport { connect } from 'react-redux';\n\nclass Table extends Component{\n    constructor(props){\n        super(props)\n\n        this.state = {\n            is_closing: \"\",\n            table_data: []\n        }\n\n        this.tables = [\n            {\n                header: ['Сорт', 'Год включения в реестр', 'Регион допуска', 'Качество по реестру', 'Качество по оригинатору'],\n                keys: ['name', 'year', 'region', 'registry', 'originator'],\n                flex: [0.8,1.4,1,1,1,1]\n            },\n            [],\n            [],\n            [],\n            [],\n            [],\n            [],\n            [],\n        ]\n        this.counter = 0\n        this.line_counter = 0\n\n        this.closeTable = this.closeTable.bind(this)\n    }\n\n    componentDidMount(){\n        axios.get(`http://localhost:${this.props.app.port}/api/get_table_info?db_name=${this.props.db_name}`).then(response => {\n            console.log(response)\n            this.setState(state => ({\n                table_data: response.data.result\n            }))\n        })\n    }\n\n    closeTable(){\n        this.setState(state => ({\n            is_closing: \"closing\"\n        }), () => {\n            setTimeout(() => {this.props.openTable(null)}, 400)\n        })\n    }\n\n    render(){\n        return(\n            <div className={\"table \"+this.state.is_closing}>\n                <div className=\"main_wind\">\n                    <div className=\"top\">\n                        <img src={icon} className=\"icon\"/>\n                        <h3 className=\"title\">Пшеница мягкая озимая</h3>\n                        <div className=\"search\">\n                            <input\n                                type=\"text\"\n                                placeholder=\"Название\"\n                            />\n                            <button><img src={search}/></button>\n                        </div>\n                        <button className=\"close\" onClick={this.closeTable}></button>\n                    </div>\n                    <div className=\"main_table\">\n                        {this.props.table_index==0?\n                            <ul>\n                                <li className=\"table_header\">\n                                    <div style={{flex: 0.1}}><p>№</p></div>\n                                    {this.tables[this.props.table_index].header.map((item, index) => {\n                                        return <div key={this.counter++} style={{flex: this.tables[this.props.table_index].flex[index]}}><p>{item}</p></div>\n                                    })}\n                                </li>\n                                {this.state.table_data.map((item, index) => {\n                                    return <li className=\"line\" key={this.counter++}>\n                                        <div style={{flex: 0.1}}>{this.line_counter++}</div>\n                                        {this.tables[this.props.table_index].keys.map(key => {\n                                            return <div key={this.counter++} style={{flex: this.tables[this.props.table_index].flex[index]}}><p>{item[key]}</p></div>\n                                        })}\n                                    </li>\n                                })}\n                            </ul>\n                        :\"\"}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return state;\n  }\n  const mapDispatchToProps =  (dispatch) => {\n    return {\n      // \"setTest\": (data) => dispatch(setTest(data))\n    }\n  }\n  export default connect(mapStateToProps, mapDispatchToProps)(Table)"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}